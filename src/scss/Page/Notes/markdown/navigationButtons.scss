@use "sass:color";
@use "@scss/Globals" as *;
@use "../mixins" as *;

/* ================================
   XRef Navigation (Back / Next)
   Flexbox — buttons hug edges, titles wrap cleanly
================================== */

/* rem-first sizing */
$xref-btn-width: 8.75rem;  // 140px
$xref-btn-height: 2.75rem; // 44px

/* Title block width: tune these three values to taste */
$xref-title-width: clamp(14rem, 26vw, 20rem);

/* Title “safe inset” so text doesn’t kiss the card edges */
$xref-title-inset: 0.75rem;

.xrefNav {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;

  width: 100%;
  margin-top: 1.25rem;

  gap: 1rem;

  @include maxw($cellphone-portrait) {
    gap: 0.75rem;
    margin-top: 1rem;
  }

  /* If there is only one nav item, keep it on the right */
  > .xrefItem:only-child {
    margin-left: auto;
    align-items: flex-end;
    text-align: right;
  }

  .xrefItem {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;

    width: auto;
    min-width: 0;

    align-items: flex-start;
    text-align: left;
  }

  /* Right stack hugs right edge */
  .xrefItem:last-child {
    align-items: flex-end;
    text-align: right;
  }

  .xrefBtn {
    display: inline-flex;
    align-items: center;
    justify-content: center;

    width: $xref-btn-width;
    height: $xref-btn-height;

    border-radius: 0.75rem;
    background: rgba(12, 16, 38, 0.55);
    border: 1px solid rgba(255, 255, 255, 0.18);
    color: $notes-secondary;

    font-weight: 700;
    font-style: italic;
    text-decoration: none;

    /* kill global underline animation */
    &::after {
      display: none;
    }

    @include maxw($cellphone-portrait) {
      width: auto;
      min-width: 6.9rem; // ~110px
      height: 2.375rem;  // 38px
      padding: 0 0.65rem;
      font-size: 0.9rem;
      border-radius: 0.625rem;
    }
  }

  .xrefTitle {
    width: $xref-title-width;
    max-width: 100%;

    font-size: 1.05rem;
    line-height: 1.35;
    color: #45b6ff;

    overflow-wrap: anywhere;
    word-break: normal;

    /* Keep alignment matching the side */
    text-align: inherit;

    /* Make it look “centered under the button” by giving the title
       breathing room from the card edges without moving the buttons */
    padding-inline: $xref-title-inset;

    /* Optional, safe */
    text-wrap: balance;

    @include maxw($cellphone-portrait) {
      width: 100%;
      padding-inline: 0.25rem;
      font-size: 0.92rem;
      line-height: 1.25;
    }
  }

  /* Side-specific inset so it only pushes away from the OUTER edges */
  .xrefItem:first-child .xrefTitle {
    padding-left: 0;
    padding-right: $xref-title-inset;
  }

  .xrefItem:last-child .xrefTitle {
    padding-right: 0;
    padding-left: $xref-title-inset;
  }
}